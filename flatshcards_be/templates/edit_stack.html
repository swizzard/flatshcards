{% extends "base.html" %} {% block content %}

<div id="root">
  <div class="error"></div>
  <div id="header">
    <h1>Flatshcards</h1>
    <p>Flashcards on the Atmosphere.</p>
  </div>
  <div class="container">
    <div class="card">
      <form action="/stacks/edit/{{ stack.uri }}" method="put" class="stack-form">
        <label for="stackLabel">Stack Label</label>
        <input
          type="text"
          id="stackLabel"
          name="stackLabel"
          value="{{ stack.label }}"
          required
        />
        <label for="frontLang">Front Language (Optional)</label>
        <select name="frontLang" id="frontLang">
          <option value=""
            {% if stack.front_lang == "" %} selected {% endif %}
          >
            (None)
          </option>
          {% for c in lang_choices %}
          <option value="{{ c.0 }}"
            {% if stack.front_lang == c.0 %} selected {% endif %}
          >
            {{ c.1 }}
          </option>
          {% endfor %}
        </select>
        <label for="backLang">Back Language (Optional)</label>
        <select name="backLang" id="backLang">
          <option value=""
            {% if stack.back_lang == "" %} selected {% endif %}
            >
            (None)
          </option>
          {% for c in lang_choices %}
          <option value="{{ c.0 }}"
            {% if stack.back_lang == c.0 %} selected {% endif %}
          >
            {{ c.1 }}
          </option>
          {% endfor %}
        </select>
        <button type="submit">Edit Stack</button>
        {% if let Some(error) = self.error %}
        <p class="error">Error: {{ error }}</p>
        {% endif %}
      </form>
      <div class="delete-button">
        <button type="button"
          hx-delete="/stacks/edit/{{ stack.uri }}"
          hx-confirm="Are you sure you want to delete {{ stack.label }}?"
          >
          Delete Stack
        </button>
    </div>
  </div>
</div>

{%endblock content%}
